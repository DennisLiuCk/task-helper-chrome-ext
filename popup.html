<!DOCTYPE html>
<html>
  <head>
    <title>My Extension</title>
    <link rel="stylesheet" href="popup.css">
    <meta charset="UTF-8">
    <script src="config.local.js"></script>
    <script src="config.js"></script>
  </head>
  <body>
    <div class="tab-container">
        <div class="tab-group">
            <button class="tab-button active" data-tab="jira">
                <img src="images/icon16.png" alt="Jira" class="tab-icon">
                <span>Jira</span>
            </button>
            <button class="tab-button" data-tab="swagger">
                <img src="images/api16.png" alt="Swagger" class="tab-icon">
                <span>Swagger</span>
            </button>
        </div>
        <button id="settingsButton" class="settings-button" title="Settings">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0z"/>
                <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
            </svg>
        </button>
    </div>
    
    <div id="jiraTab" class="tab-content active">
        <div class="header">
            <h1 id="title"></h1>
        </div>
        <div class="search-section">
            <select id="searchType" class="search-type-select">
                <option value="browse">Browse</option>
                <option value="wiki">Wiki</option>
            </select>
            <input type="text" id="queryInput" placeholder="Search">
            <button id="searchButton" class="add-button">Search</button>
        </div>
        <div class="input-container">
            <select id="prefixSelect" class="prefix-select"></select>
            <input type="text" id="taskInput" pattern="\d+">
            <button id="submitButton" class="icon-button" title="Submit">
                <img src="images/icon16.png" alt="Submit">
            </button>
        </div>
        <p id="result"></p>
        <div class="history-section">
            <div class="history-header">
                <h2>Recent Tasks</h2>
                <button id="clearHistory" class="clear-button">Clear</button>
            </div>
            <div id="history"></div>
        </div>
        
        <div class="release-section">
            <div class="release-header">
                <h2>Release Groups</h2>
                <button id="addReleaseGroup" class="add-button">Add Group</button>
            </div>
            <div id="releaseGroups"></div>
        </div>
    </div>

    <div id="swaggerTab" class="tab-content">
        <div class="header">
            <h1>Swagger Links</h1>
        </div>
        <div class="swagger-list" id="swaggerList">
            <!-- Swagger links will be added here dynamically -->
        </div>
    </div>
    
    <div id="taskSelectionDialog" class="dialog-overlay">
        <div class="dialog-content">
            <h2>Add Tasks to Release Group</h2>
            <div class="dialog-body">
                <div class="input-section">
                    <input type="text" id="dialogDateInput" placeholder="Enter group name">
                </div>
                <div class="divider">
                    <span>select tasks from history</span>
                </div>
                <div class="history-selection"></div>
            </div>
            <div class="dialog-footer">
                <button class="dialog-button cancel">Cancel</button>
                <button class="dialog-button confirm">Create Group</button>
            </div>
        </div>
    </div>
    
    <div id="addTaskDialog" class="dialog-overlay">
        <div class="dialog-content">
            <h2>Add Task to Release Group</h2>
            <div class="dialog-body">
                <div class="input-section">
                    <select id="dialogPrefixSelect" class="prefix-select"></select>
                    <input type="text" id="dialogTaskInput" placeholder="Enter task number">
                </div>
                <div class="divider">
                    <span>or select from history</span>
                </div>
                <div class="history-selection"></div>
            </div>
            <div class="dialog-footer">
                <button class="dialog-button cancel">Cancel</button>
                <button class="dialog-button confirm">Add Task</button>
            </div>
        </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>