<template>
  <Modal :show="show" size="lg" @close="handleClose">
    <div class="welcome-modal">
      <div class="welcome-header">
        <h2 class="welcome-title">æ­¡è¿ä½¿ç”¨ Task Helper v2</h2>
        <p class="welcome-subtitle">ç¾ä»£åŒ–çš„ Jira ä»»å‹™ç®¡ç†å·¥å…·</p>
      </div>

      <div class="welcome-content">
        <div class="feature-list">
          <div class="feature-item">
            <span class="feature-icon">âœ…</span>
            <div class="feature-text">
              <h3>ä»»å‹™ç®¡ç†</h3>
              <p>å®Œæ•´çš„ä»»å‹™ CRUDï¼Œæ”¯æŒç‹€æ…‹è¿½è¹¤å’Œå„ªå…ˆåº¦ç®¡ç†</p>
            </div>
          </div>

          <div class="feature-item">
            <span class="feature-icon">ğŸ”</span>
            <div class="feature-text">
              <h3>å¿«é€Ÿæœå°‹</h3>
              <p>ä½¿ç”¨ Cmd+K å¿«é€Ÿæœå°‹å’Œå°èˆªä»»å‹™</p>
            </div>
          </div>

          <div class="feature-item">
            <span class="feature-icon">ğŸ“Š</span>
            <div class="feature-text">
              <h3>æ•¸æ“šçµ±è¨ˆ</h3>
              <p>å¯¦æ™‚è¿½è¹¤ä»»å‹™ç‹€æ…‹å’Œé€²åº¦</p>
            </div>
          </div>

          <div class="feature-item">
            <span class="feature-icon">ğŸ¨</span>
            <div class="feature-text">
              <h3>è‡ªè¨‚ä¸»é¡Œ</h3>
              <p>æ·ºè‰²/æ·±è‰²ä¸»é¡Œï¼Œæ”¯æŒè‡ªå‹•åˆ‡æ›</p>
            </div>
          </div>
        </div>

        <div class="welcome-actions">
          <div class="action-card">
            <h3>æƒ³è¦å¿«é€Ÿä¸Šæ‰‹ï¼Ÿ</h3>
            <p>æˆ‘å€‘å¯ä»¥ç‚ºæ‚¨å‰µå»ºä¸€äº›ç¯„ä¾‹ä»»å‹™ï¼Œå¹«åŠ©æ‚¨äº†è§£åŠŸèƒ½ã€‚</p>
            <Button variant="primary" @click="handleLoadSample">
              è¼‰å…¥ç¯„ä¾‹æ•¸æ“š
            </Button>
          </div>

          <div class="action-card">
            <h3>ç›´æ¥é–‹å§‹</h3>
            <p>è·³éç¯„ä¾‹ï¼Œç«‹å³é–‹å§‹å‰µå»ºæ‚¨çš„ç¬¬ä¸€å€‹ä»»å‹™ã€‚</p>
            <Button variant="secondary" @click="handleSkip">
              é–‹å§‹ä½¿ç”¨
            </Button>
          </div>
        </div>
      </div>
    </div>
  </Modal>
</template>

<script setup lang="ts">
import Modal from './Modal.vue';
import Button from './Button.vue';

interface Props {
  show: boolean;
}

interface Emits {
  (e: 'close'): void;
  (e: 'load-sample'): void;
  (e: 'skip'): void;
}

defineProps<Props>();
const emit = defineEmits<Emits>();

function handleClose() {
  emit('close');
}

function handleLoadSample() {
  emit('load-sample');
  emit('close');
}

function handleSkip() {
  emit('skip');
  emit('close');
}
</script>

<style scoped>
.welcome-modal {
  padding: var(--spacing-6);
}

.welcome-header {
  text-align: center;
  margin-bottom: var(--spacing-6);
}

.welcome-title {
  font-size: var(--text-3xl);
  font-weight: var(--font-bold);
  color: var(--primary-500);
  margin: 0 0 var(--spacing-2) 0;
}

.welcome-subtitle {
  font-size: var(--text-lg);
  color: var(--text-secondary);
  margin: 0;
}

.welcome-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-6);
}

.feature-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-4);
}

.feature-item {
  display: flex;
  gap: var(--spacing-3);
  align-items: start;
}

.feature-icon {
  font-size: var(--text-2xl);
  flex-shrink: 0;
}

.feature-text h3 {
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--text-primary);
  margin: 0 0 var(--spacing-1) 0;
}

.feature-text p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin: 0;
}

.welcome-actions {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-4);
}

.action-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-4);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-3);
}

.action-card h3 {
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--text-primary);
  margin: 0;
}

.action-card p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin: 0;
  flex: 1;
}

/* Responsive */
@media (max-width: 600px) {
  .feature-list {
    grid-template-columns: 1fr;
  }

  .welcome-actions {
    grid-template-columns: 1fr;
  }
}
</style>
